#+SETUPFILE: ../_style/style.setup
#+TITLE: 基础: 逻辑和证明

* 命题逻辑
  命题是一个陈述语句, 它或真或假, 但不能既真又假
  
** 命题真值表
#+CAPTION: 命题真值表
| $p$ | $q$ | 合取($p \land q$) | 析取($p \lor q$) | 异或($p \oplus q$) | 蕴含($p \to q$) | 双蕴含($p \leftrightarrow q$) | 非($\lnot p$) |
|-----+-----+-------------------+------------------+--------------------+-----------------+-------------------------------+---------------|
| <c> | <c> | <c>               | <c>              | <c>                | <c>             | <c>                           | <c>           |
| /   |     | <>                | <>               | <>                 | <>              | <>                            | <>            |
|-----+-----+-------------------+------------------+--------------------+-----------------+-------------------------------+---------------|
| $T$ | $T$ | $T$               | $T$              | $F$                | $T$             | $T$                           | $F$           |
| $T$ | $F$ | $F$               | $T$              | $T$                | $F$             | $F$                           | $F$           |
| $F$ | $T$ | $F$               | $T$              | $T$                | $T$             | $F$                           | $T$           |
| $F$ | $F$ | $F$               | $F$              | $F$                | $T$             | $T$                           | $T$           |

逻辑运算和位运算: $T$ - $1$, $F$ - $0$, $\land$ - AND, $\lor$ - OR, $\oplus$ - XOR 

** 逻辑运算符的优先级
   * 运算符 $\lnot$ : 1
   * 运算符 $\land$ : 2
   * 运算符 $\lor$ : 3
   * 运算符 $\to$ : 4
   * 运算符 $\leftrightarrow$ : 5

* 命题等价式
  在所有可能的情况下都有相同真值的两个复合命题称为逻辑等价的

** 逻辑等价式
#+CAPTION: 逻辑等价式
| 等价式                                                   | 名称        |
|----------------------------------------------------------+-------------|
| <l>                                                      | <c>         |
| /                                                        | <>          |
|----------------------------------------------------------+-------------|
| $p \land T \equiv p$                                     | 恒等律      |
| $p \lor F \equiv p$                                      |             |
|----------------------------------------------------------+-------------|
| $p \lor T \equiv T$                                      | 支配律      |
| $p \land F \equiv F$                                     |             |
|----------------------------------------------------------+-------------|
| $p \lor p \equiv p$                                      | 幂等律      |
| $p \land p \equiv p$                                     |             |
|----------------------------------------------------------+-------------|
| $\lnot (\lnot p) \equiv p$                               | 双重否定律  |
|----------------------------------------------------------+-------------|
| $p \lor q \equiv q \lor p$                               | 交换律      |
| $p \land q \equiv q \land p$                             |             |
|----------------------------------------------------------+-------------|
| $(p \lor q) \lor r \equiv p \lor (q \lor r)$             | 结合律      |
| $(p \land q) \land r \equiv p \land (q \land r)$         |             |
|----------------------------------------------------------+-------------|
| $p \lor (q \land r) \equiv (p \lor q) \land (p \lor r)$  | 分配律      |
| $p \land (q \lor r) \equiv (p \land q) \lor (p \land r)$ |             |
|----------------------------------------------------------+-------------|
| $\lnot (p \land q) \equiv \lnot p \lor \lnot q$          | 德·摩根定律 |
| $\lnot (p \lor q) \equiv \lnot p \land \lnot q$          |             |
|----------------------------------------------------------+-------------|
| $p \lor (p \land q) \equiv p$                            | 吸收律      |
| $p \land (p \lor q) \equiv p$                            |             |
|----------------------------------------------------------+-------------|
| $p \lor \lnot p \equiv T$                                | 否定律      |
| $p \land \lnot p \equiv F$                               |             |

** 条件命题的逻辑等价式
#+CAPTION: 条件命题的逻辑等价式
| $p \to q \equiv \lnot p \lor q$                      |
| $p \to q \equiv \lnot p \to \lnot q$                 |
| $p \lor q \equiv \lnot p \to q$                      |
| $p \land q \equiv \lnot (p \to \lnot q)$             |
| $\lnot (p \to q) \equiv p \lor \lnot q$              |
| $(p \to q) \land (p \to r) \equiv p \to (q \land r)$ |
| $(p \to r) \land (q \to r) \equiv (p \lor q) \to r$  |
| $(p \to q) \lor (p \to r) \equiv p \to (q \lor r)$   |
| $(p \to r) \lor (q \to r) \equiv (p \land q) \to r$  |

** 双条件命题的逻辑等价式
#+CAPTION: 双条件命题的逻辑等价式
| $p \leftrightarrow q \equiv (p \to q) \land (q \to p)$                |
| $p \leftrightarrow q \equiv \lnot p \leftrightarrow \lnot q$          |
| $p \leftrightarrow q \equiv (p \land q) \lor (\lnot q \land \lnot p)$ |
| $\lnot (p \leftrightarrow q) \equiv p \leftrightarrow q$              |

* 谓词和变量
  表达能力更强的逻辑 - *谓词逻辑*

** 谓词
  一般地, 涉及 $n$ 个变量 $x_{1}, x_{2}, \cdots, x_{n}$ 的语句可以表示成 $P(x_{1}, x_{2}, \cdots, x_{n})$ 
  形式为 $P(x_{1}, x_{2}, \cdots, x_{n})$ 的语句是 *命题函数* $P$ 在 $n$ 元组 $(x_{1}, x_{2}, \cdots, x_{n})$ 的值, 
  $P$ 也称为 *n位谓词* 或 *n元谓词*
  
  *前置条件和后置条件* 描绘合法输入的语句叫作 *前置条件*, 而程序运行的输出应该满足的条件称为 *后置条件* 

** 量词
#+CAPTION: 量词
| 命题             | 什么时候为真                | 什么时候为假                |
|------------------+-----------------------------+-----------------------------|
| <c>              | <c>                         | <c>                         |
| /                | <>                          | <>                          |
|------------------+-----------------------------+-----------------------------|
| $\forall x P(x)$ | 对每一个 $x$, $P(x)$ 都为真 | 有一个 $x$, 使 $P(x)$ 为假  |
| $\exists x P(x)$ | 有一个 $x$, 使 $P(x)$ 为真  | 对每一个 $x$, $P(x)$ 都为假 |

** 量化表达式的否定
#+CAPTION: 量词的德·摩根律
| 否定                   | 等价语句               | 何时为真                | 何时为假                 |
|------------------------+------------------------+-------------------------+--------------------------|
| <c>                    | <c>                    | <c>                     | <c>                      |
| /                      | <>                     | <>                      | <>                       |
|------------------------+------------------------+-------------------------+--------------------------|
| $\lnot \exists x P(x)$ | $\forall x \lnot P(x)$ | 对每个 $x$, $P(x)$ 为假 | 有 $x$, 使 $P(x)$ 为真   |
| $\lnot \forall x P(x)$ | $\exists x \lnot P(x)$ | 有 $x$, 使 $P(x)$ 为假  | 对每个 $x$,  $P(x)$ 为真 |
|                        |                        |                         |                          |

* 嵌套量词
  * *嵌套量词*: 即一个量词出现在另一个量词的作用域类
  * *理解*: 将量化当做循环
  * *顺序*: 量词的顺序不能随意修改
    * 量词出现的顺序会产生不同的影响
    * 在没有其他量词的语句中, 在不改变量化式意义的前提下嵌套全称量词的顺序是可以改变的

** 两个变量的量化表达式
#+CAPTION: 两个变量的量化表达式
| 语句                          | 何时为真                                        | 何时为假                                       |
|-------------------------------+-------------------------------------------------+------------------------------------------------|
| <c>                           | <c>                                             | <c>                                            |
| /                             | <>                                              | <>                                             |
|-------------------------------+-------------------------------------------------+------------------------------------------------|
| $\forall x \forall y P(x, y)$ | 对每一对 $x, y, P(x, y)$ 均为真                 | 存在一对 $x, y$, 使得 $P(x, y)$ 为假           |
| $\forall y \forall x P(x, y)$ |                                                 |                                                |
|-------------------------------+-------------------------------------------------+------------------------------------------------|
| $\forall x \exists y P(x, y)$ | 对每一个 $x$, 都存在一个 $y$ 使得 $P(x,y)$ 为真 | 存在一个 $x$, 使得 $P(x, y)$ 对每个 $y$ 总为假 |
|-------------------------------+-------------------------------------------------+------------------------------------------------|
| $\exists x \forall y P(x, y)$ | 存在一个 $x$, 使得 $P(x,y)$ 对所有 $y$ 均为真   | 对每个 $x$, 存在一个 $y$ 使得 $P(x, y)$ 为假   |
|-------------------------------+-------------------------------------------------+------------------------------------------------|
| $\exists x \exists y P(x, y)$ | 存在一对 $x, y$, 使得 $P(x, y)$ 成立            | 对每一对 $x, y, P(x, y) 均为假$                |
| $\exists y \exists x P(x, y)$ |                                                 |                                                |

* 推理规则
  * *论证*: 一连串的命题并以结论为最后的命题
  * *有效性*: 结论或论证的最后一个命题必须根据论证过程前面的命题或 *前提* 的真实性推出
  * *谬误*: 常见的错误推理，直接导致无效论证

** 命题逻辑的推理规则
   假言推理, 取拒式, 假言三段论, 析取三段论, 附加率, 化简率, 合取率, 消解率

   [[file:./img/D-1-1.png]]
** 量化命题的推理规则
   全称实例, 全称引入, 存在实例, 存在引用

   file:./img/D-1-2.jpg
* 证明导论
  * 一个 *定理* 是一个能够被证明是真的语句
  * 不太重要的定理有时称为 *命题* (定理也可称为 *事实* 或 *结论*)
  * 一个不太重要但有助于证明其他结论的定理称为 *引理*
  * *推论* 是从一个已经被证明的定理可以直接建立起来的一个定理
  * *猜想* 是一个被提出认为是真的命题

** 直接证明法
   构造: 条件语句 $p \to q$
   * 第一步假设 $p$ 为真
   * 第二步用推理规则构造
   * 第三步表名 $q$ 也必须为真
   直接证明是通过证明如果 $p$ 为真, 那么 $q$ 也肯定为真, 这样 $p$ 为真
   且 $q$ 为假的情况永远不会发生从而证明条件语句 $p \to q$ 为真
** 反证法
   构造: 条件语句 $p \to q$ 等价于它的逆否命题 $\lnot q \to \lnot p$ \\
   用反证法证明 $p \to q$ 时, 我们将 $\lnot q$ 作为前提, 再用公理, 定义和前面证明过的定理, 以及推理规则,
   证明 $\lnot p$ 必须成立
** 归谬证明法
   假设我们想证明 $p$ 是真的, 假定可以找到矛盾式 $q$ 使得 $\lnot p \lnot q$ 为真
   因为 $q$ 是假的, $\lnot p \lnot q$ 为真, 我们能够得出 $\lnot p$ 必然为假, 这意味着 $p$ 为真
* 证明的方法和策略
** 穷举证明法和分情形证明法
   * *分情形证明法*: 为了证明如此的条件语句 $(p_{1} \lor p_{2} \lor \cdots \lor p_{n}) \to q$ \\
     可用永真式
     $[(p_{1} \lor p_{2} \lor \cdots \lor p_{n}) \to q] \leftrightarrow [(p_{1} \to q) \land (p_{2} \to q) \land \cdots \land (p_{n} \to q)]$
     作为推理规则 \\
     这个推理规则说明可以通过分别证明每个条件语句 $p_{i} \to q(i=1, 2, \cdots, n)$ 来证明由命题 $p_{1}, p_{2}, \cdots, p_{n}$
     的析取式组成前提的原条件语句. 这种论证称为 *分情形证明法*
   * *穷举证明法*: *分情形证明法* 的特例, 每种情况涉及检验一个例子.
     通过检验相对少量的例子来证明.
** 存在性证明
   $\exists x P(x)$ 这类命题的证明称为 *存在性证明*
   * 通过找出一个使得 $P(a)$ 为真得元素 $a$ 来给出 $\exists x P(x)$ 的存在性证明.
     这样的证明称为是 *构造性的*
   * 以其他方式来证明 $\exists x P(x)$ 为真称为 *非构造性的*
     常用方法是归谬证明, 证明该存在量化式的否定式蕴含一个矛盾
