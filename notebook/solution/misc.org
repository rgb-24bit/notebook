#+TITLE:      其他解决方案

* 目录                                                    :TOC_4_gh:noexport:
- [[#秒杀场景下的限流][秒杀场景下的限流]]
- [[#bff-架构][BFF 架构]]

* 秒杀场景下的限流
  秒杀场景下的一种情况就是一瞬间可能会有很多请求出现，这时，如何限制过滤这些请求就成了一个重要的话题。

  简单的思路如下：
  1. 在客户页面进行一些验证操作，减少同一时刻的请求数量
  2. 在服务器进行一些限制，比如限制同一 IP 的请求频率，减少同一 IP 的请求数量
  3. 通过缓存对请求的数量进行限制，一种方式是限制请求的总数量，另一种是通过库存之类的量进行限制

  其中，通过缓存进行限制时，不必考虑缓存中数据的强一致性，因为这里缓存的作用只是限制流量，如果要考虑数据的强一致性，
  那么势必会造成额外的性能消耗。

  相关的概念：
  + TPS - Transactions Per Second（每秒传输的事物处理个数），即服务器每秒能处理的事务数。一个事务是指一个客户机向服务器发送请求然后服务器做出反应的过程。
    客户机在发送请求时开始计时，收到服务器响应后结束计时，以此来计算一个业务事务所使用的时间。
  
* BFF 架构
  BFF 全称是 Backends For Frontends(服务于前端的后端)，服务器设计 API 时会考虑到不同设备的需求，为不同的设备提供不同的 API 接口。

  类似如下架构：
  #+HTML: <img src="https://segmentfault.com/img/bVOgHQ?w=404&h=463">

  参考：
  + [[https://segmentfault.com/a/1190000009558309][了解BFF架构 - SegmentFault 思否]]

